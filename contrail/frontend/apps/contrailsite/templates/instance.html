{% extends 'base.html' %}
{% load staticfiles %}
{% load crispy_forms_tags %}

{% block css %}
<link rel="stylesheet" href="{% static 'css/sidebar.css' %}">
<!-- CHART.JS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.13.0/moment.min.js"></script>
<script src="https://www.chartjs.org/dist/2.8.0/Chart.min.js"></script>
<script src="https://www.chartjs.org/samples/latest/utils.js"></script>
{% endblock %}

{% block content %}
<br><br><br><br><br>
  <div class="container">
    <div class="row">
      <div class="col">
        <h1 style="text-align: center;">Instance {{ instance.instanceType }}</h1>
      </div>
    </div>
  </div>
</div>


  <div class="container">

        <br><br><br>
        <table id="instances" class="table table-striped table-hover table-bordered" style="width:100%">
            <tbody>

              <tr>
                <th>Provider</th>
                <td>{{ instance.provider }}</td>
              </tr>

              <tr>
                <th>Region</th>
                <td>{{ instance.region }}</td>
              </tr>

              <tr>
                <th>vCPUs</th>
                <td>{{ instance.vcpus }}</td>
              </tr>

              <tr>
                <th>Memory</th>
                <td>{{ instance.memory }}</td>
              </tr>

              <tr>
                <th>GPU</th>
                <td>{{ instance.gpu }}</td>
              </tr>

              <tr>
                <th>Network Performance</th>
                <td>{{ instance.networkPerformance }}</td>
              </tr>

              <tr>
                <th>physicalCores</th>
                <td>{{ instance.physicalCores }}</td>
              </tr>

              <tr>
                <th>Physical Processor</th>
                <td>{{ instance.physicalProcessor }}</td>
              </tr>

              <tr>
                <th>storageIsEbsOnly</th>
                <td>{{ instance.storageIsEbsOnly }}</td>
              </tr>

              <tr>
                <th>Storage Count</th>
                <td>{{ instance.storageCount }}</td>
              </tr>

              <tr>
                <th>Storage Capacity</th>
                <td>{{ instance.storageCapacity }}</td>
              </tr>

              <tr>
                <th>Storage Type</th>
                <td>{{ instance.storageType }}</td>
              </tr>

            </tbody>
        </table>

        <br><h2 style="text-align:center;">Pricing</h2>

        <table id="instances" class="table table-striped table-hover table-bordered" style="width:100%">
          <tbody>

            <tr>
              <th>Price Type</th>
              <td>{{ instance.price.type }}</td>
            </tr>

            <tr>
              <th>Price</th>
              <td>{{ instance.price.hourly }}</td>
            </tr>

          </tbody>
        </table>


        <div class="row">
          <div class="col-sm-6">
            <div class="card">
              <div class="card-body">
                <h4 class="card-title">On Demand</h4><hr>
                <h5 class="card-title"><span style="font-size: 3em;">${{ instance.price.0.hourly }}</span> per hour</h5>
                <p class="card-text">Lorem ipsum dolor sit amet.</p>
                <a href="#" class="btn btn-primary">Go somewhere</a>
              </div>
            </div>
          </div>
          <div class="col-sm-6">
            <div class="card">
              <div class="card-body">
                <h4 class="card-title">Reserved</h4><hr>

                <a data-toggle="collapse" href="#one" aria-expanded="false" aria-controls="one"><h5>One Year</h5></a>
                <div class="collapse multi-collapse" id="one">
                  <div class="card card-body">
                    <h5 class="card-title"><span style="font-size: 1.2em;">$5,000</span> upfront</h5>
                    <p class="card-text">Full Upfront</p><hr style="margin-top: 0px;">
                    <h5 class="card-title"><span style="font-size: 1.2em;">$5,000</span> upfront</h5>
                    <h5 class="card-title"><span style="font-size: 1.2em;">$0.5</span> per hour</h5>
                    <p class="card-text">Partial Upfront</p><hr style="margin-top: 0px;">
                    <h5 class="card-title"><span style="font-size: 1.2em;">$0.5</span> per hour</h5>
                    <p class="card-text">No Upfront</p>

                  </div>
                </div><br>

                <a data-toggle="collapse" href="#three" aria-expanded="false" aria-controls="three"><h5>Three years</h5></a>
                <div class="collapse multi-collapse" id="three">
                  <div class="card card-body">
                    Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. Nihil anim keffiyeh helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident.
                  </div>
                </div><br>

                <a data-toggle="collapse" href="#five" aria-expanded="false" aria-controls="five"><h5>Five Years</h5></a>
                <div class="collapse multi-collapse" id="five">
                  <div class="card card-body">
                    Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. Nihil anim keffiyeh helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident.
                  </div>
                </div><br>




                <a href="#" class="btn btn-primary">Go somewhere</a>
              </div>
            </div>
          </div>
        </div>

      <div class="line"></div>

      <h2 style="text-align:center;">Price History</h2>

      <canvas id="canvas" style="display: block; width: 621px; height: 310px;" width="621" height="310" class="chartjs-render-monitor"></canvas>
</div>


{% endblock %}


{% block script %}

<!-- BOOTSTRAP TABLE -->
<script type="text/javascript">
  $(document).ready(function() {
    $('#instances').DataTable( {
        // "paging":   false,
        "ordering": true,
        // "info":     false,
        "columns": []
    } );
  } );
</script>

<!-- CHART.JS -->
<script>
  // https://www.chartjs.org/samples/latest/scales/time/line.html
		var timeFormat = 'MM/DD/YYYY HH:mm';

		function newDate(days) {
			return moment().add(days, 'd').toDate();
		}

		function newDateString(days) {
			return moment().add(days, 'd').format(timeFormat);
		}

		var color = Chart.helpers.color;
		var config = {
			type: 'line',
			data: {
				labels: [ // Date Objects
					newDate(0),
					newDate(1),
					newDate(2),
					newDate(3),
					newDate(4),
					newDate(5),
					newDate(6)
				],
				datasets: [{
					label: 'On Demand',
					backgroundColor: color(window.chartColors.red).alpha(0.5).rgbString(),
					borderColor: window.chartColors.red,
					fill: false,
					data: [
						randomScalingFactor(),
						randomScalingFactor(),
						randomScalingFactor(),
						randomScalingFactor(),
						randomScalingFactor(),
						randomScalingFactor(),
						randomScalingFactor()
					],
				}, {
					label: 'Reserved',
					backgroundColor: color(window.chartColors.blue).alpha(0.5).rgbString(),
					borderColor: window.chartColors.blue,
					fill: false,
					data: [
						randomScalingFactor(),
						randomScalingFactor(),
						randomScalingFactor(),
						randomScalingFactor(),
						randomScalingFactor(),
						randomScalingFactor(),
						randomScalingFactor()
					],
				}, {
					label: 'Spot',
					backgroundColor: color(window.chartColors.green).alpha(0.5).rgbString(),
					borderColor: window.chartColors.green,
					fill: false,
					data: [{
						x: newDateString(0),
						y: randomScalingFactor()
					}, {
						x: newDateString(5),
						y: randomScalingFactor()
					}, {
						x: newDateString(7),
						y: randomScalingFactor()
					}, {
						x: newDateString(15),
						y: randomScalingFactor()
					}],
				}]
			},
			options: {
				title: {
					text: 'Chart.js Time Scale'
				},
				scales: {
					xAxes: [{
						type: 'time',
						time: {
							parser: timeFormat,
							// round: 'day'
							tooltipFormat: 'll HH:mm'
						},
						scaleLabel: {
							display: true,
							labelString: 'Date'
						}
					}],
					yAxes: [{
						scaleLabel: {
							display: true,
							labelString: 'value'
						}
					}]
				},
			}
		};

		window.onload = function() {
			var ctx = document.getElementById('canvas').getContext('2d');
			window.myLine = new Chart(ctx, config);

		};

	</script>

{% endblock %}
